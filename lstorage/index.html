<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>
<body>
  <form>
    <p>
      <label for="name">name</label>
      <input type="text" id="name">
    </p>
    <p>
      <label for="email">email</label>
      <input type="text" id="email">
    </p>
    <button id="submit">Submit</button>
  </form>
  <!-- <div id="user"></div> -->
  <div id="users"></div>

  <script>

    var lUsers = JSON.parse(localStorage.getItem('users')) || []

    for (var i = 0; i < lUsers.length; i++) {
      var userDiv = document.createElement('div')
      userDiv.textContent = 'Name: ' + lUsers[i].name + ' | Email: ' + lUsers[i].email
      document.getElementById('users').append(userDiv)
    }

    // var lUser = JSON.parse(localStorage.getItem('user')) || {}

    // document.getElementById('user').textContent = 'Name: ' + lUser.name + ' | Email: ' + lUser.email

    document.getElementById('submit').addEventListener('click', function (event) {
      event.preventDefault()

      // var name = document.getElementById('name').value

      var user = {
        name: document.getElementById('name').value,
        email: document.getElementById('email').value
      }

      var users = JSON.parse(localStorage.getItem('users')) || []

      users.push(user)

      localStorage.setItem('users', JSON.stringify(users))

      var userDiv = document.createElement('div')
      userDiv.textContent = 'Name: ' + user.name + ' | Email: ' + user.email
      document.getElementById('users').append(userDiv)

      // localStorage.setItem('name', name)
      // localStorage.setItem('user', JSON.stringify(user))

      // document.getElementById('user').textContent = 'Name: ' + user.name + ' | Email: ' + user.email
    })

  </script>
</body>
</html>